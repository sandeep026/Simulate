#version: 2
#
#build:
#  os: ubuntu-22.04
#  tools:
#    python: "3.11"
#  apt_packages:
#    - pipx
#  commands:
#    - pipx ensurepath
#    - pipx ensurepath --global
#    - pipx install poetry
#    - poetry install
#
#sphinx:
#  builder: html
#  configuration: doc/source/conf.py
#  fail_on_warning: true

version: 2

build:
  os: ubuntu-22.04
  tools:
    python: "3.11"
  jobs:
    post_create_environment:
      # Install poetry
      - pip install poetry
      - pip install matplotlib
      - pip install nbsphinx
      # Tell poetry to not use a virtual environment
      - poetry config virtualenvs.create false
    post_install:
      # Install dependencies
      - poetry install --with dev,docs

sphinx:
  configuration: doc/source/conf.py
